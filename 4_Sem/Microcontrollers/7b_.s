	AREA PROG7,CODE,READONLY
RADIX RN 0
LOWERNIBBLEMASK RN 10
UPPERNIBBLEMASK RN 11
LOWERNIBBLE RN 3
UPPERNIBBLE RN 4
RESULT RN 5
NUMBYTES RN 6
BYTE RN 2
ENTRY	MOV RADIX,#10
		MOV RESULT,#0
		MOV LOWERNIBBLEMASK,#0x0F
		MOV UPPERNIBBLEMASK,#0xF0
		MOV NUMBYTES,#4
		LDR R1,=NUMBER  ;R1 contains the address where 0x00000127 is stored in memory ; R1 contains value in decimal is 72
		ADD R1,R1,NUMBYTES   ; now it is 76  (0x0000004C)
		SUB R1,R1,#1			; now 75	(0x0000004B)
LOOP 	LDRB BYTE,[R1]
		SUB R1,R1,#1
		AND LOWERNIBBLE,BYTE,LOWERNIBBLEMASK
		AND UPPERNIBBLE,BYTE,UPPERNIBBLEMASK
		LSR UPPERNIBBLE,#4  ;After doing this we get 2 instead of 20 
		MLA RESULT,RADIX,RESULT,UPPERNIBBLE  ; multiplication is in decimal
		MLA RESULT,RADIX,RESULT,LOWERNIBBLE
		SUBS NUMBYTES,NUMBYTES,#1
		BNE LOOP
STOP 	B STOP
NUMBER  DCD 0x00000127
		END
